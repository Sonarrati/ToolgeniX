<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Compressor | Toolgenix</title>
    <meta name="description" content="Free online PDF compressor. Reduce PDF file size without losing quality. Works entirely in your browser - no data is uploaded to servers.">
    <meta name="keywords" content="pdf compressor, pdf compression, reduce pdf size, pdf optimizer, toolgenix">
    <meta name="author" content="Toolgenix">
    
    <!-- Open Graph / Social Media Meta Tags -->
    <meta property="og:title" content="PDF Compressor | Toolgenix">
    <meta property="og:description" content="Free online PDF compressor. Reduce PDF file size without losing quality.">
    <meta property="og:type" content="website">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://toolgenix.com/tools/pdf-compressor">
    
    <!-- Schema.org structured data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "PDF Compressor - Toolgenix",
      "description": "Free online tool to compress PDF files and reduce their size",
      "url": "https://toolgenix.com/tools/pdf-compressor",
      "applicationCategory": "UtilityApplication",
      "operatingSystem": "Any",
      "permissions": "browser",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    }
    </script>
    
    <!-- PDF-Lib Library -->
    <script src="https://unpkg.com/pdf-lib@1.17.1/dist/pdf-lib.min.js"></script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #7A5CFA;
            --primary-light: #8A63FF;
            --primary-dark: #6A4EDC;
            --background: #ffffff;
            --card-bg: #f8f8f8;
            --text: #1e1e2f;
            --text-secondary: #2e2e3f;
            --border: #e5e5e5;
            --success: #4caf50;
            --warning: #ff9800;
            --error: #ff4c4c;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--background);
            color: var(--text);
            line-height: 1.6;
        }

        /* Header Styles */
        header {
            background-color: rgba(255, 255, 255, 0.98);
            box-shadow: 0 2px 10px rgba(122, 92, 250, 0.15);
            padding: 0.8rem 5%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .logo {
            font-size: 1.6rem;
            font-weight: 800;
            display: flex;
        }
        
        .logo span:first-child {
            color: #1e1e2f;
        }
        
        .logo span:last-child {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        nav ul {
            display: flex;
            list-style: none;
            gap: 1.5rem;
        }
        
        nav a {
            text-decoration: none;
            color: var(--text-secondary);
            font-weight: 500;
            font-size: 0.9rem;
            transition: color 0.3s;
        }
        
        nav a:hover {
            color: var(--primary);
        }

        /* Main Content */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .page-header {
            text-align: center;
            padding: 3rem 0 2rem;
        }
        
        .page-header h1 {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
            color: var(--text);
        }
        
        .page-header p {
            font-size: 1.2rem;
            color: var(--text-secondary);
            max-width: 700px;
            margin: 0 auto;
        }

        /* Tool Container */
        .tool-container {
            max-width: 1000px;
            width: 100%;
            background-color: var(--card-bg);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(122, 92, 250, 0.1);
            margin: 0 auto 3rem;
            position: relative;
            overflow: hidden;
            border: 1px solid var(--border);
        }

        .tool-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--primary-light));
        }

        .tool-header {
            text-align: center;
            margin-bottom: 25px;
            position: relative;
        }

        .tool-header h2 {
            font-size: 28px;
            margin-bottom: 10px;
            color: var(--primary);
        }

        .tool-header p {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .calculator-form {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
            border: 1px solid var(--border);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .setting-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--text);
        }

        .input-with-icon {
            position: relative;
        }

        .input-with-icon i {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--primary);
        }

        .input-with-icon input,
        .input-with-icon select {
            padding-left: 35px;
        }

        input, select {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid var(--border);
            background-color: white;
            color: var(--text);
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input:focus, select:focus {
            outline: none;
            border-color: var(--primary);
        }

        button {
            padding: 14px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            background: linear-gradient(90deg, var(--primary), var(--primary-light));
            color: white;
            box-shadow: 0 4px 10px rgba(122, 92, 250, 0.3);
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(122, 92, 250, 0.4);
        }

        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .primary-btn {
            flex: 1;
        }

        .secondary-btn {
            background-color: white;
            color: var(--text);
            border: 1px solid var(--border);
        }

        .secondary-btn:hover {
            background-color: #f5f5f5;
        }

        /* File Upload */
        .file-upload {
            position: relative;
            margin-bottom: 20px;
        }

        .file-upload input[type="file"] {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            opacity: 0;
            cursor: pointer;
        }

        .file-upload-label {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px 20px;
            border: 2px dashed var(--border);
            border-radius: 8px;
            background-color: rgba(122, 92, 250, 0.05);
            transition: all 0.3s;
            text-align: center;
        }

        .file-upload-label:hover {
            border-color: var(--primary);
            background-color: rgba(122, 92, 250, 0.08);
        }

        .file-upload-label i {
            font-size: 48px;
            color: var(--primary);
            margin-bottom: 15px;
        }

        .file-upload-label h3 {
            margin-bottom: 10px;
            color: var(--text);
        }

        .file-upload-label p {
            color: var(--text-secondary);
            font-size: 14px;
        }

        /* Progress Bar */
        .progress-container {
            margin-top: 20px;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background-color: #e5e5e5;
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--primary-light));
            width: 0%;
            transition: width 0.3s;
        }

        .status-text {
            font-size: 14px;
            color: var(--text-secondary);
            text-align: center;
        }

        /* Results Panel */
        .result-panel {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 25px;
            border: 1px solid var(--border);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
            display: none;
        }

        .result-panel.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .result-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--text);
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }

        .stat-card {
            background-color: var(--card-bg);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            border: 1px solid var(--border);
        }

        .stat-value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 5px;
        }

        .stat-label {
            font-size: 0.9rem;
            color: var(--text-secondary);
        }

        .reduction-stat {
            color: var(--success);
        }

        .note {
            font-size: 14px;
            color: var(--text-secondary);
            margin-top: 15px;
            padding: 10px;
            background-color: rgba(255, 152, 0, 0.05);
            border-radius: 8px;
            border-left: 4px solid var(--warning);
        }

        /* Info Sections */
        .info-section {
            margin: 3rem 0;
            padding: 2rem;
            background-color: var(--card-bg);
            border-radius: 12px;
        }
        
        .info-section h2 {
            color: var(--text);
            margin-bottom: 1.5rem;
            font-size: 1.8rem;
        }
        
        .info-section h3 {
            color: var(--primary);
            margin: 1.5rem 0 1rem;
            font-size: 1.4rem;
        }
        
        .info-section p, .info-section li {
            color: var(--text-secondary);
            margin-bottom: 1rem;
            line-height: 1.7;
        }
        
        .info-section ul, .info-section ol {
            padding-left: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .info-section li {
            margin-bottom: 0.5rem;
        }
        
        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }
        
        .benefit-card {
            background: white;
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
            text-align: center;
        }
        
        .benefit-card i {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 1rem;
        }
        
        .benefit-card h4 {
            color: var(--text);
            margin-bottom: 0.5rem;
        }
        
        /* FAQ Section */
        .faq-item {
            margin-bottom: 1.5rem;
            border-bottom: 1px solid var(--border);
            padding-bottom: 1.5rem;
        }
        
        .faq-question {
            font-weight: 600;
            color: var(--text);
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }
        
        /* Footer */
        footer {
            background-color: var(--background);
            border-top: 2px solid var(--primary);
            padding: 2rem 5% 1rem;
            margin-top: 3rem;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
            margin-bottom: 1.2rem;
        }
        
        .footer-column h3 {
            font-size: 1rem;
            margin-bottom: 1rem;
            color: var(--text);
        }
        
        .footer-column p {
            color: var(--text-secondary);
            line-height: 1.4;
            font-size: 0.85rem;
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 0.5rem;
        }
        
        .footer-links a {
            text-decoration: none;
            color: var(--text-secondary);
            font-size: 0.85rem;
            transition: color 0.3s;
        }
        
        .footer-links a:hover {
            color: var(--primary);
        }
        
        .social-icons {
            display: flex;
            gap: 0.7rem;
        }
        
        .social-icon {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--card-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 0.9rem;
            transition: all 0.3s;
        }
        
        .social-icon:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 3px 8px rgba(122, 92, 250, 0.15);
        }
        
        .footer-bottom {
            text-align: center;
            padding-top: 1.2rem;
            border-top: 1px solid var(--border);
            color: var(--text-secondary);
            font-size: 0.8rem;
        }
        
        /* Breadcrumb */
        .breadcrumb {
            padding: 1rem 0;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }
        
        .breadcrumb a {
            color: var(--primary);
            text-decoration: none;
        }
        
        .breadcrumb a:hover {
            text-decoration: underline;
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeOut {
            from { opacity: 1; transform: translateY(0); }
            to { opacity: 0; transform: translateY(-10px); }
        }
        
        @media (max-width: 992px) {
            .footer-content {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            
            nav ul {
                display: none;
            }
            
            .stats-grid {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .page-header h1 {
                font-size: 2rem;
            }
            
            .info-section {
                padding: 1.5rem;
            }
            
            .benefits-grid {
                grid-template-columns: 1fr;
            }
            
            .button-group {
                flex-direction: column;
            }
        }
        
        @media (max-width: 600px) {
            .tool-container { 
                padding: 20px; 
            }
            
            .page-header h1 { 
                font-size: 1.8rem; 
            }
            
            .page-header p {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="logo">
            <span>TOOL</span><span>GENIX</span>
        </div>
        <nav>
            <ul>
                <li><a href="https://toolgenix.com">Home</a></li>
                <li><a href="https://toolgenix.com/categories">Categories</a></li>
                <li><a href="https://toolgenix.com/tools">Tools</a></li>
                <li><a href="https://toolgenix.com/blog">Blog</a></li>
                <li><a href="https://toolgenix.com/join">Join</a></li>
            </ul>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="container">
        <!-- Breadcrumb -->
        <div class="breadcrumb">
            <a href="https://toolgenix.com">Home</a> &gt; 
            <a href="https://toolgenix.com/tools">Tools</a> &gt; 
            <a href="https://toolgenix.com/tools/pdf-tools">PDF Tools</a> &gt; 
            PDF Compressor
        </div>
        
        <!-- Page Header -->
        <section class="page-header">
            <h1>PDF Compressor</h1>
            <p>Reduce PDF file size without losing quality. Works entirely in your browser - no data is uploaded to servers.</p>
        </section>
        
        <!-- PDF Compressor Tool -->
        <section class="tool-container">
            <div class="tool-header">
                <h2>PDF Compressor</h2>
                <p>Compress PDF files by optimizing structure and removing unnecessary elements</p>
            </div>

            <div class="calculator-form">
                <div class="form-group">
                    <label class="setting-label">Upload PDF File</label>
                    <div class="file-upload">
                        <input type="file" id="pdfFile" accept="application/pdf">
                        <div class="file-upload-label" id="fileUploadLabel">
                            <i class="fas fa-file-pdf"></i>
                            <h3>Select PDF File</h3>
                            <p>Click to browse or drag and drop your PDF file here</p>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="setting-label" for="compressionLevel">Compression Level</label>
                    <div class="input-with-icon">
                        <i class="fas fa-compress"></i>
                        <select id="compressionLevel">
                            <option value="low">Low (Minimal compression, best quality)</option>
                            <option value="medium" selected>Medium (Balanced compression)</option>
                            <option value="high">High (Maximum compression)</option>
                        </select>
                    </div>
                </div>

                <div class="button-group">
                    <button class="primary-btn" id="compressBtn">
                        <i class="fas fa-compress"></i>
                        Compress PDF
                    </button>
                    <button class="secondary-btn" id="clearBtn">
                        <i class="fas fa-trash"></i>
                        Clear
                    </button>
                </div>

                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressBar"></div>
                    </div>
                    <div class="status-text" id="statusText">No file uploaded</div>
                </div>
            </div>

            <!-- Results Panel -->
            <div class="result-panel" id="resultPanel">
                <div class="result-title">Compression Results</div>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="origSize">—</div>
                        <div class="stat-label">Original Size</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="newSize">—</div>
                        <div class="stat-label">Compressed Size</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value reduction-stat" id="reduction">—</div>
                        <div class="stat-label">Size Reduction</div>
                    </div>
                </div>
                <div class="button-group">
                    <a id="downloadLink" class="primary-btn" style="text-decoration: none; color: inherit; display: flex; align-items: center; justify-content: center;">
                        <i class="fas fa-download"></i>
                        Download Compressed PDF
                    </a>
                    <button class="secondary-btn" id="openNewBtn">
                        <i class="fas fa-external-link-alt"></i>
                        Open in New Tab
                    </button>
                </div>
            </div>

            <div class="note">
                <i class="fas fa-exclamation-triangle"></i> 
                Note: This PDF compressor works entirely in your browser. No data is sent to any server, ensuring your documents remain private. For very large PDFs, compression may take some time.
            </div>
        </section>
        
        <!-- How to Use Section -->
        <section class="info-section">
            <h2>How to Use Our PDF Compressor</h2>
            <ol>
                <li><strong>Upload PDF</strong> - Click the upload area or drag and drop your PDF file.</li>
                <li><strong>Select compression level</strong> - Choose the compression level based on your needs.</li>
                <li><strong>Compress</strong> - Click "Compress PDF" to process your file.</li>
                <li><strong>Download</strong> - Once compression is complete, download your optimized PDF.</li>
            </ol>
            
            <h3>Compression Levels Explained</h3>
            <ul>
                <li><strong>Low Compression</strong> - Minimal compression, best for documents requiring high fidelity and text clarity.</li>
                <li><strong>Medium Compression</strong> - Balanced compression, good for most documents with a mix of text and images.</li>
                <li><strong>High Compression</strong> - Maximum compression, ideal for documents where file size is more important than perfect quality.</li>
            </ul>
            
            <h3>Why Compress PDF Files?</h3>
            <div class="benefits-grid">
                <div class="benefit-card">
                    <i class="fas fa-envelope"></i>
                    <h4>Email Attachments</h4>
                    <p>Reduce file size to meet email attachment limits.</p>
                </div>
                <div class="benefit-card">
                    <i class="fas fa-cloud-upload-alt"></i>
                    <h4>Faster Uploads</h4>
                    <p>Upload compressed files more quickly to websites and cloud storage.</p>
                </div>
                <div class="benefit-card">
                    <i class="fas fa-mobile-alt"></i>
                    <h4>Mobile Friendly</h4>
                    <p>Make PDFs easier to view and share on mobile devices.</p>
                </div>
                <div class="benefit-card">
                    <i class="fas fa-hdd"></i>
                    <h4>Save Storage</h4>
                    <p>Reduce storage space used by PDF documents.</p>
                </div>
            </div>
        </section>
        
        <!-- Understanding PDF Compression Section -->
        <section class="info-section">
            <h2>Understanding PDF Compression</h2>
            
            <h3>How PDF Compression Works</h3>
            <p>PDF compression works by reducing the file size of a PDF document without significantly affecting its visual quality. This is achieved through several techniques:</p>
            <ul>
                <li><strong>Structure Optimization</strong> - Removing redundant elements and optimizing the PDF structure</li>
                <li><strong>Image Optimization</strong> - Recompressing images with more efficient algorithms</li>
                <li><strong>Font Subsetting</strong> - Including only the characters actually used in the document</li>
                <li><strong>Metadata Removal</strong> - Removing unnecessary metadata and comments</li>
            </ul>
            
            <h3>Types of PDF Compression</h3>
            <ul>
                <li><strong>Lossless Compression</strong> - Reduces file size without any loss of quality. Best for text documents.</li>
                <li><strong>Lossy Compression</strong> - Reduces file size by discarding some data, which may affect quality. Best for image-heavy documents.</li>
            </ul>
            
            <h3>When to Use PDF Compression</h3>
            <ul>
                <li>When you need to email a PDF but it exceeds attachment size limits</li>
                <li>When uploading PDFs to websites with file size restrictions</li>
                <li>When storing large numbers of PDFs to save disk space</li>
                <li>When sharing PDFs over slow internet connections</li>
                <li>When optimizing PDFs for web viewing</li>
            </ul>
            
            <h3>Best Practices for PDF Compression</h3>
            <ul>
                <li>Always keep a backup of the original file before compression</li>
                <li>Use higher compression levels for documents with important visual details</li>
                <li>For text-only documents, use lower compression to maintain text clarity</li>
                <li>Test the compressed PDF on different devices to ensure readability</li>
                <li>Consider the purpose of the document when choosing compression level</li>
            </ul>
        </section>
        
        <!-- FAQ Section -->
        <section class="info-section">
            <h2>Frequently Asked Questions</h2>
            
            <div class="faq-item">
                <div class="faq-question">Is PDF compression safe?</div>
                <p>Yes, our PDF compression is completely safe. All processing happens in your browser - your files never leave your computer or are uploaded to any server. This ensures complete privacy and security for your documents.</p>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">How much can I reduce my PDF file size?</div>
                <p>The amount of compression depends on the content of your PDF. Image-heavy documents can often be reduced by 20-50%, while text-only documents may see smaller reductions of 10-30%.</p>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">Will compression affect the quality of my PDF?</div>
                <p>With the "Low Compression" setting, quality loss is minimal. With "Medium Compression", there may be slight quality reduction that's usually unnoticeable. "High Compression" may result in more noticeable quality loss, particularly for images.</p>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">Can I compress password-protected PDFs?</div>
                <p>No, our tool cannot process password-protected PDFs. You would need to remove the password before compression.</p>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">What is the maximum file size I can compress?</div>
                <p>There's no fixed limit, but very large files (over 100MB) may take a long time to process or could exceed browser memory limits. For best results, we recommend files under 50MB.</p>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">Does compression affect text searchability?</div>
                <p>No, text remains searchable and selectable after compression. Our method preserves the text layers in your PDF.</p>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>About Toolgenix</h3>
                    <p>Toolgenix provides free, easy-to-use online tools to simplify your digital life. Our mission is to make everyday tasks faster and more efficient.</p>
                </div>
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="https://toolgenix.com">Home</a></li>
                        <li><a href="https://toolgenix.com/categories">Categories</a></li>
                        <li><a href="https://toolgenix.com/blog">Blog</a></li>
                        <li><a href="https://toolgenix.com/tools">Tools</a></li>
                        <li><a href="https://toolgenix.com/join">Join</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Connect With Us</h3>
                    <div class="social-icons">
                        <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-youtube"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-github"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>© 2025 Toolgenix — All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // DOM Elements
        const pdfFileInput = document.getElementById('pdfFile');
        const compressBtn = document.getElementById('compressBtn');
        const clearBtn = document.getElementById('clearBtn');
        const statusText = document.getElementById('statusText');
        const progressBar = document.getElementById('progressBar');
        const resultPanel = document.getElementById('resultPanel');
        const origSizeEl = document.getElementById('origSize');
        const newSizeEl = document.getElementById('newSize');
        const reductionEl = document.getElementById('reduction');
        const downloadLink = document.getElementById('downloadLink');
        const openNewBtn = document.getElementById('openNewBtn');
        const compressionLevelSelect = document.getElementById('compressionLevel');
        const fileUploadLabel = document.getElementById('fileUploadLabel');

        let originalFile = null;
        let compressedPdfBytes = null;

        // Helper Functions
        function humanBytes(bytes) {
            if (bytes === 0) return '0 B';
            const units = ['B', 'KB', 'MB', 'GB', 'TB'];
            const i = Math.floor(Math.log(bytes) / Math.log(1024));
            return (bytes / Math.pow(1024, i)).toFixed(2) + ' ' + units[i];
        }

        function setStatus(text) {
            statusText.textContent = text;
        }

        function setProgress(percent) {
            progressBar.style.width = (percent * 100) + '%';
        }

        function showMessage(text, isError = false) {
            // Create a temporary message element
            const messageEl = document.createElement('div');
            messageEl.textContent = text;
            messageEl.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 12px 20px;
                background: ${isError ? 'var(--error)' : 'var(--success)'};
                color: white;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                z-index: 10000;
                font-weight: 500;
                animation: fadeIn 0.3s ease;
            `;
            document.body.appendChild(messageEl);
            
            // Remove after 3 seconds
            setTimeout(() => {
                messageEl.style.animation = 'fadeOut 0.3s ease';
                setTimeout(() => {
                    if (messageEl.parentNode) {
                        messageEl.parentNode.removeChild(messageEl);
                    }
                }, 300);
            }, 3000);
        }

        // Simple PDF compression by re-saving with different options
        async function compressPDF(arrayBuffer, compressionLevel) {
            try {
                // Load the PDF document
                const pdfDoc = await PDFLib.PDFDocument.load(arrayBuffer);
                
                // Set compression options based on level
                let saveOptions = {};
                
                switch(compressionLevel) {
                    case 'low':
                        saveOptions = { useObjectStreams: true, addDefaultPage: false };
                        break;
                    case 'medium':
                        saveOptions = { useObjectStreams: true, addDefaultPage: false, objectsPerTick: 10 };
                        break;
                    case 'high':
                        saveOptions = { useObjectStreams: true, addDefaultPage: false, objectsPerTick: 5 };
                        break;
                }
                
                // Save the PDF with compression options
                const compressedBytes = await pdfDoc.save(saveOptions);
                return compressedBytes;
            } catch (error) {
                console.error('Compression error:', error);
                throw new Error('Failed to compress PDF. The file might be corrupted or too complex.');
            }
        }

        // UI Event Handlers
        pdfFileInput.addEventListener('change', (ev) => {
            resultPanel.classList.remove('active');
            compressedPdfBytes = null;
            
            if (!ev.target.files || ev.target.files.length === 0) {
                originalFile = null;
                setStatus('No file selected');
                fileUploadLabel.innerHTML = `
                    <i class="fas fa-file-pdf"></i>
                    <h3>Select PDF File</h3>
                    <p>Click to browse or drag and drop your PDF file here</p>
                `;
                return;
            }
            
            const file = ev.target.files[0];
            if (file.type !== 'application/pdf' && !file.name.toLowerCase().endsWith('.pdf')) {
                showMessage('Please upload a PDF file.', true);
                pdfFileInput.value = '';
                originalFile = null;
                setStatus('Invalid file');
                return;
            }
            
            originalFile = file;
            setStatus(`Loaded: ${file.name} (${humanBytes(file.size)})`);
            origSizeEl.textContent = humanBytes(file.size);
            setProgress(0);
            
            // Update file upload label
            fileUploadLabel.innerHTML = `
                <i class="fas fa-check-circle" style="color: var(--success);"></i>
                <h3>${file.name}</h3>
                <p>${humanBytes(file.size)} • Ready to compress</p>
            `;
        });

        // Drag and drop support
        fileUploadLabel.addEventListener('dragover', (e) => {
            e.preventDefault();
            fileUploadLabel.style.borderColor = 'var(--primary)';
            fileUploadLabel.style.backgroundColor = 'rgba(122, 92, 250, 0.1)';
        });

        fileUploadLabel.addEventListener('dragleave', (e) => {
            e.preventDefault();
            fileUploadLabel.style.borderColor = 'var(--border)';
            fileUploadLabel.style.backgroundColor = 'rgba(122, 92, 250, 0.05)';
        });

        fileUploadLabel.addEventListener('drop', (e) => {
            e.preventDefault();
            fileUploadLabel.style.borderColor = 'var(--border)';
            fileUploadLabel.style.backgroundColor = 'rgba(122, 92, 250, 0.05)';
            
            if (e.dataTransfer.files.length) {
                pdfFileInput.files = e.dataTransfer.files;
                const event = new Event('change', { bubbles: true });
                pdfFileInput.dispatchEvent(event);
            }
        });

        compressBtn.addEventListener('click', async () => {
            if (!originalFile) {
                showMessage('Please upload a PDF file first.', true);
                return;
            }
            
            compressBtn.disabled = true;
            clearBtn.disabled = true;
            setStatus('Reading file...');
            setProgress(0.1);
            resultPanel.classList.remove('active');
            compressedPdfBytes = null;

            const arrayBuffer = await originalFile.arrayBuffer();
            const compressionLevel = compressionLevelSelect.value;

            try {
                setStatus('Compressing PDF...');
                setProgress(0.3);
                
                // Add a small delay to show progress
                await new Promise(resolve => setTimeout(resolve, 500));
                
                setProgress(0.6);
                const newBytes = await compressPDF(arrayBuffer, compressionLevel);
                compressedPdfBytes = newBytes;
                
                setProgress(1);
                setStatus('Compression complete!');

                // Show sizes and download link
                const origSize = originalFile.size;
                const newSize = compressedPdfBytes.length;
                origSizeEl.textContent = humanBytes(origSize);
                newSizeEl.textContent = humanBytes(newSize);
                const red = ((origSize - newSize) / origSize) * 100;
                reductionEl.textContent = (red >= 0 ? red.toFixed(2) + '%' : 'N/A');

                // Create blob & link
                const blob = new Blob([compressedPdfBytes], { type: 'application/pdf' });
                const url = URL.createObjectURL(blob);
                downloadLink.href = url;
                downloadLink.download = (originalFile.name.replace(/\.pdf$/i, '') || 'compressed') + '-compressed.pdf';
                downloadLink.onclick = () => {
                    showMessage('PDF downloaded successfully!');
                };
                openNewBtn.onclick = () => {
                    window.open(url, '_blank');
                };
                resultPanel.classList.add('active');
                showMessage('PDF compressed successfully!');
            } catch (err) {
                console.error('Compression error', err);
                showMessage(err.message || 'Compression failed. Please try a different file.', true);
                setStatus('Compression failed');
            } finally {
                compressBtn.disabled = false;
                clearBtn.disabled = false;
            }
        });

        clearBtn.addEventListener('click', () => {
            pdfFileInput.value = '';
            originalFile = null;
            compressedPdfBytes = null;
            setStatus('Cleared');
            setProgress(0);
            resultPanel.classList.remove('active');
            
            // Reset file upload label
            fileUploadLabel.innerHTML = `
                <i class="fas fa-file-pdf"></i>
                <h3>Select PDF File</h3>
                <p>Click to browse or drag and drop your PDF file here</p>
            `;
            
            showMessage('All fields cleared');
        });

        // Initial state
        setStatus('No file uploaded');
        setProgress(0);

        // Add fadeOut animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fadeOut {
                from { opacity: 1; transform: translateY(0); }
                to { opacity: 0; transform: translateY(-10px); }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
