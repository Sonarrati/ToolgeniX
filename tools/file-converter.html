<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced File Converter Tool | Toolgenix</title>
    <meta name="description" content="Free online file converter tool. Convert images, audio, video files and text to PDF. Works entirely in your browser - no data is uploaded to servers.">
    <meta name="keywords" content="file converter, image converter, audio converter, video converter, text to pdf, toolgenix">
    <meta name="author" content="Toolgenix">
    
    <!-- Open Graph / Social Media Meta Tags -->
    <meta property="og:title" content="Advanced File Converter Tool | Toolgenix">
    <meta property="og:description" content="Free online file converter tool. Convert images, audio, video files and text to PDF.">
    <meta property="og:type" content="website">
    
    <!-- Canonical URL -->
    <link rel="canonical" href="https://toolgenix.com/tools/file-converter">
    
    <!-- Schema.org structured data -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "Advanced File Converter Tool - Toolgenix",
      "description": "Free online tool to convert images, audio, video files and text to PDF",
      "url": "https://toolgenix.com/tools/file-converter",
      "applicationCategory": "UtilityApplication",
      "operatingSystem": "Any",
      "permissions": "browser",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      }
    }
    </script>
    
    <!-- External Libraries -->
    <script src="https://cdn.jsdelivr.net/npm/@ffmpeg/ffmpeg@0.12.0/dist/ffmpeg.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.11.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        :root {
            --primary: #7A5CFA;
            --primary-light: #8A63FF;
            --primary-dark: #6A4EDC;
            --background: #ffffff;
            --card-bg: #f8f8f8;
            --text: #1e1e2f;
            --text-secondary: #2e2e3f;
            --border: #e5e5e5;
            --success: #4caf50;
            --warning: #ff9800;
            --error: #ff4c4c;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: var(--background);
            color: var(--text);
            line-height: 1.6;
        }

        /* Header Styles */
        header {
            background-color: rgba(255, 255, 255, 0.98);
            box-shadow: 0 2px 10px rgba(122, 92, 250, 0.15);
            padding: 0.8rem 5%;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: sticky;
            top: 0;
            z-index: 1000;
        }
        
        .logo {
            font-size: 1.6rem;
            font-weight: 800;
            display: flex;
        }
        
        .logo span:first-child {
            color: #1e1e2f;
        }
        
        .logo span:last-child {
            background: linear-gradient(135deg, var(--primary), var(--primary-light));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        nav ul {
            display: flex;
            list-style: none;
            gap: 1.5rem;
        }
        
        nav a {
            text-decoration: none;
            color: var(--text-secondary);
            font-weight: 500;
            font-size: 0.9rem;
            transition: color 0.3s;
        }
        
        nav a:hover {
            color: var(--primary);
        }

        /* Main Content */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        .page-header {
            text-align: center;
            padding: 3rem 0 2rem;
        }
        
        .page-header h1 {
            font-size: 2.5rem;
            font-weight: 800;
            margin-bottom: 1rem;
            color: var(--text);
        }
        
        .page-header p {
            font-size: 1.2rem;
            color: var(--text-secondary);
            max-width: 700px;
            margin: 0 auto;
        }

        /* Tool Container */
        .tool-container {
            max-width: 1000px;
            width: 100%;
            background-color: var(--card-bg);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(122, 92, 250, 0.1);
            margin: 0 auto 3rem;
            position: relative;
            overflow: hidden;
            border: 1px solid var(--border);
        }

        .tool-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--primary-light));
        }

        .tool-header {
            text-align: center;
            margin-bottom: 25px;
            position: relative;
        }

        .tool-header h2 {
            font-size: 28px;
            margin-bottom: 10px;
            color: var(--primary);
        }

        .tool-header p {
            color: var(--text-secondary);
            font-size: 14px;
        }

        .converter-form {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 25px;
            border: 1px solid var(--border);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .setting-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--text);
        }

        .input-with-icon {
            position: relative;
        }

        .input-with-icon i {
            position: absolute;
            left: 12px;
            top: 50%;
            transform: translateY(-50%);
            color: var(--primary);
            z-index: 1;
        }

        .input-with-icon input,
        .input-with-icon select {
            padding-left: 35px;
        }

        input, select {
            width: 100%;
            padding: 12px;
            border-radius: 8px;
            border: 1px solid var(--border);
            background-color: white;
            color: var(--text);
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input:focus, select:focus {
            outline: none;
            border-color: var(--primary);
        }

        button {
            padding: 14px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            background: linear-gradient(90deg, var(--primary), var(--primary-light));
            color: white;
            box-shadow: 0 4px 10px rgba(122, 92, 250, 0.3);
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(122, 92, 250, 0.4);
        }

        button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }

        .button-group {
            display: flex;
            gap: 15px;
            margin-top: 20px;
        }

        .primary-btn {
            flex: 1;
        }

        .secondary-btn {
            background-color: white;
            color: var(--text);
            border: 1px solid var(--border);
        }

        .secondary-btn:hover {
            background-color: #f5f5f5;
        }

        /* File Upload */
        .file-upload {
            position: relative;
            margin-bottom: 20px;
        }

        .file-upload input[type="file"] {
            position: absolute;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            opacity: 0;
            cursor: pointer;
        }

        .file-upload-label {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 40px 20px;
            border: 2px dashed var(--border);
            border-radius: 8px;
            background-color: rgba(122, 92, 250, 0.05);
            transition: all 0.3s;
            text-align: center;
        }

        .file-upload-label:hover {
            border-color: var(--primary);
            background-color: rgba(122, 92, 250, 0.08);
        }

        .file-upload-label i {
            font-size: 48px;
            color: var(--primary);
            margin-bottom: 15px;
        }

        .file-upload-label h3 {
            margin-bottom: 10px;
            color: var(--text);
        }

        .file-upload-label p {
            color: var(--text-secondary);
            font-size: 14px;
        }

        /* Progress Bar */
        .progress-container {
            margin-top: 20px;
        }

        .progress-bar {
            width: 100%;
            height: 10px;
            background-color: #e5e5e5;
            border-radius: 5px;
            overflow: hidden;
            margin-bottom: 10px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--primary-light));
            width: 0%;
            transition: width 0.3s;
        }

        .status-text {
            font-size: 14px;
            color: var(--text-secondary);
            text-align: center;
        }

        /* Results Panel */
        .result-panel {
            background-color: white;
            padding: 20px;
            border-radius: 10px;
            margin-top: 25px;
            border: 1px solid var(--border);
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.05);
            display: none;
        }

        .result-panel.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .result-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: var(--text);
        }

        .output {
            margin-top: 20px;
        }

        .output a {
            display: block;
            margin: 10px 0;
            color: var(--primary);
            text-decoration: none;
            padding: 10px;
            background-color: rgba(122, 92, 250, 0.1);
            border-radius: 6px;
            transition: background-color 0.3s;
        }

        .output a:hover {
            background-color: rgba(122, 92, 250, 0.2);
        }

        .preview {
            margin-top: 20px;
        }

        .preview img, .preview video, .preview audio {
            max-width: 100%;
            margin-top: 10px;
            border-radius: 8px;
            border: 1px solid var(--border);
        }

        .note {
            font-size: 14px;
            color: var(--text-secondary);
            margin-top: 15px;
            padding: 10px;
            background-color: rgba(255, 152, 0, 0.05);
            border-radius: 8px;
            border-left: 4px solid var(--warning);
        }

        /* Info Sections */
        .info-section {
            margin: 3rem 0;
            padding: 2rem;
            background-color: var(--card-bg);
            border-radius: 12px;
        }
        
        .info-section h2 {
            color: var(--text);
            margin-bottom: 1.5rem;
            font-size: 1.8rem;
        }
        
        .info-section h3 {
            color: var(--primary);
            margin: 1.5rem 0 1rem;
            font-size: 1.4rem;
        }
        
        .info-section p, .info-section li {
            color: var(--text-secondary);
            margin-bottom: 1rem;
            line-height: 1.7;
        }
        
        .info-section ul, .info-section ol {
            padding-left: 1.5rem;
            margin-bottom: 1.5rem;
        }
        
        .info-section li {
            margin-bottom: 0.5rem;
        }
        
        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 1.5rem;
            margin-top: 1.5rem;
        }
        
        .benefit-card {
            background: white;
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.05);
            text-align: center;
        }
        
        .benefit-card i {
            font-size: 2rem;
            color: var(--primary);
            margin-bottom: 1rem;
        }
        
        .benefit-card h4 {
            color: var(--text);
            margin-bottom: 0.5rem;
        }
        
        /* FAQ Section */
        .faq-item {
            margin-bottom: 1.5rem;
            border-bottom: 1px solid var(--border);
            padding-bottom: 1.5rem;
        }
        
        .faq-question {
            font-weight: 600;
            color: var(--text);
            margin-bottom: 0.5rem;
            font-size: 1.1rem;
        }
        
        /* Footer */
        footer {
            background-color: var(--background);
            border-top: 2px solid var(--primary);
            padding: 2rem 5% 1rem;
            margin-top: 3rem;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 2rem;
            margin-bottom: 1.2rem;
        }
        
        .footer-column h3 {
            font-size: 1rem;
            margin-bottom: 1rem;
            color: var(--text);
        }
        
        .footer-column p {
            color: var(--text-secondary);
            line-height: 1.4;
            font-size: 0.85rem;
        }
        
        .footer-links {
            list-style: none;
        }
        
        .footer-links li {
            margin-bottom: 0.5rem;
        }
        
        .footer-links a {
            text-decoration: none;
            color: var(--text-secondary);
            font-size: 0.85rem;
            transition: color 0.3s;
        }
        
        .footer-links a:hover {
            color: var(--primary);
        }
        
        .social-icons {
            display: flex;
            gap: 0.7rem;
        }
        
        .social-icon {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: var(--card-bg);
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-size: 0.9rem;
            transition: all 0.3s;
        }
        
        .social-icon:hover {
            background: var(--primary);
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 3px 8px rgba(122, 92, 250, 0.15);
        }
        
        .footer-bottom {
            text-align: center;
            padding-top: 1.2rem;
            border-top: 1px solid var(--border);
            color: var(--text-secondary);
            font-size: 0.8rem;
        }
        
        /* Breadcrumb */
        .breadcrumb {
            padding: 1rem 0;
            font-size: 0.9rem;
            color: var(--text-secondary);
        }
        
        .breadcrumb a {
            color: var(--primary);
            text-decoration: none;
        }
        
        .breadcrumb a:hover {
            text-decoration: underline;
        }
        
        /* Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes fadeOut {
            from { opacity: 1; transform: translateY(0); }
            to { opacity: 0; transform: translateY(-10px); }
        }
        
        @media (max-width: 992px) {
            .footer-content {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
            
            nav ul {
                display: none;
            }
        }
        
        @media (max-width: 768px) {
            .page-header h1 {
                font-size: 2rem;
            }
            
            .info-section {
                padding: 1.5rem;
            }
            
            .benefits-grid {
                grid-template-columns: 1fr;
            }
            
            .button-group {
                flex-direction: column;
            }
        }
        
        @media (max-width: 600px) {
            .tool-container { 
                padding: 20px; 
            }
            
            .page-header h1 { 
                font-size: 1.8rem; 
            }
            
            .page-header p {
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="logo">
            <span>TOOL</span><span>GENIX</span>
        </div>
        <nav>
            <ul>
                <li><a href="https://toolgenix.com">Home</a></li>
                <li><a href="https://toolgenix.com/categories">Categories</a></li>
                <li><a href="https://toolgenix.com/tools">Tools</a></li>
                <li><a href="https://toolgenix.com/blog">Blog</a></li>
                <li><a href="https://toolgenix.com/join">Join</a></li>
            </ul>
        </nav>
    </header>

    <!-- Main Content -->
    <main class="container">
        <!-- Breadcrumb -->
        <div class="breadcrumb">
            <a href="https://toolgenix.com">Home</a> &gt; 
            <a href="https://toolgenix.com/tools">Tools</a> &gt; 
            <a href="https://toolgenix.com/tools/conversion-tools">Conversion Tools</a> &gt; 
            File Converter
        </div>
        
        <!-- Page Header -->
        <section class="page-header">
            <h1>Advanced File Converter Tool</h1>
            <p>Convert images, audio, video files and text to PDF. Works entirely in your browser - no data is uploaded to servers.</p>
        </section>
        
        <!-- File Converter Tool -->
        <section class="tool-container">
            <div class="tool-header">
                <h2>File Converter</h2>
                <p>Convert between different file formats with ease</p>
            </div>

            <div class="converter-form">
                <div class="form-group">
                    <label class="setting-label">Upload Files</label>
                    <div class="file-upload">
                        <input type="file" id="fileInput" multiple>
                        <div class="file-upload-label" id="fileUploadLabel">
                            <i class="fas fa-file-upload"></i>
                            <h3>Select Files</h3>
                            <p>Click to browse or drag and drop your files here</p>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="setting-label" for="convertType">Conversion Type</label>
                    <div class="input-with-icon">
                        <i class="fas fa-cogs"></i>
                        <select id="convertType">
                            <option value="image">Image Converter (PNG/JPG/WEBP)</option>
                            <option value="audio">Audio Converter (MP3/WAV/OGG)</option>
                            <option value="video">Video Converter (MP4/WEBM/AVI)</option>
                            <option value="text">Text to PDF</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label class="setting-label" for="convertFormat">Output Format</label>
                    <div class="input-with-icon">
                        <i class="fas fa-file-export"></i>
                        <select id="convertFormat">
                            <!-- Image formats -->
                            <option value="png">PNG</option>
                            <option value="jpg">JPG</option>
                            <option value="webp">WEBP</option>
                            <!-- Audio formats -->
                            <option value="mp3">MP3</option>
                            <option value="wav">WAV</option>
                            <option value="ogg">OGG</option>
                            <!-- Video formats -->
                            <option value="mp4">MP4</option>
                            <option value="webm">WEBM</option>
                            <option value="avi">AVI</option>
                            <!-- Document format -->
                            <option value="pdf">PDF</option>
                        </select>
                    </div>
                </div>

                <div class="button-group">
                    <button class="primary-btn" id="convertBtn">
                        <i class="fas fa-exchange-alt"></i>
                        Convert Files
                    </button>
                    <button class="secondary-btn" id="clearBtn">
                        <i class="fas fa-trash"></i>
                        Clear
                    </button>
                </div>

                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress-fill" id="progressBar"></div>
                    </div>
                    <div class="status-text" id="statusText">No files uploaded</div>
                </div>
            </div>

            <!-- Results Panel -->
            <div class="result-panel" id="resultPanel">
                <div class="result-title">Conversion Results</div>
                <div class="output" id="output"></div>
                <div class="preview" id="preview"></div>
            </div>

            <div class="note">
                <i class="fas fa-exclamation-triangle"></i> 
                Note: This file converter works entirely in your browser. No data is sent to any server, ensuring your files remain private. For large files, conversion may take some time.
            </div>
        </section>
        
        <!-- How to Use Section -->
        <section class="info-section">
            <h2>How to Use Our File Converter</h2>
            <ol>
                <li><strong>Upload Files</strong> - Click the upload area or drag and drop your files.</li>
                <li><strong>Select Conversion Type</strong> - Choose the type of conversion (image, audio, video, or text).</li>
                <li><strong>Select Output Format</strong> - Choose the format you want to convert your files to.</li>
                <li><strong>Convert</strong> - Click "Convert Files" to process your files.</li>
                <li><strong>Download</strong> - Once conversion is complete, download your converted files.</li>
            </ol>
            
            <h3>Supported Formats</h3>
            <div class="benefits-grid">
                <div class="benefit-card">
                    <i class="fas fa-image"></i>
                    <h4>Image Formats</h4>
                    <p>Convert between PNG, JPG, and WEBP formats with quality preservation.</p>
                </div>
                <div class="benefit-card">
                    <i class="fas fa-music"></i>
                    <h4>Audio Formats</h4>
                    <p>Convert between MP3, WAV, and OGG formats with customizable quality.</p>
                </div>
                <div class="benefit-card">
                    <i class="fas fa-video"></i>
                    <h4>Video Formats</h4>
                    <p>Convert between MP4, WEBM, and AVI formats with resolution options.</p>
                </div>
                <div class="benefit-card">
                    <i class="fas fa-file-pdf"></i>
                    <h4>Text to PDF</h4>
                    <p>Convert text files to PDF format with proper formatting.</p>
                </div>
            </div>
        </section>
        
        <!-- Understanding File Conversion Section -->
        <section class="info-section">
            <h2>Understanding File Conversion</h2>
            
            <h3>How File Conversion Works</h3>
            <p>File conversion is the process of transforming a file from one format to another. This is achieved through encoding and decoding algorithms that interpret the original file's data and rewrite it in the target format.</p>
            
            <h3>Types of File Conversion</h3>
            <ul>
                <li><strong>Lossless Conversion</strong> - Preserves all original data and quality. Best for text and documents.</li>
                <li><strong>Lossy Conversion</strong> - Reduces file size by discarding some data, which may affect quality. Common for images, audio, and video.</li>
            </ul>
            
            <h3>When to Use File Conversion</h3>
            <ul>
                <li>When you need to use a file in an application that doesn't support its current format</li>
                <li>When you want to reduce file size for storage or sharing</li>
                <li>When preparing files for specific platforms with format requirements</li>
                <li>When optimizing files for web use with better compression formats</li>
                <li>When archiving files in more universal or future-proof formats</li>
            </ul>
            
            <h3>Best Practices for File Conversion</h3>
            <ul>
                <li>Always keep a backup of the original file before conversion</li>
                <li>Use lossless formats when quality preservation is critical</li>
                <li>Consider the purpose of the file when choosing output format</li>
                <li>Test converted files to ensure they work as expected</li>
                <li>Be aware that multiple conversions can degrade quality with lossy formats</li>
            </ul>
        </section>
        
        <!-- FAQ Section -->
        <section class="info-section">
            <h2>Frequently Asked Questions</h2>
            
            <div class="faq-item">
                <div class="faq-question">Is file conversion safe?</div>
                <p>Yes, our file conversion is completely safe. All processing happens in your browser - your files never leave your computer or are uploaded to any server. This ensures complete privacy and security for your files.</p>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">What is the maximum file size I can convert?</div>
                <p>There's no fixed limit, but very large files (over 100MB) may take a long time to process or could exceed browser memory limits. For best results, we recommend files under 50MB.</p>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">Will conversion affect the quality of my files?</div>
                <p>It depends on the conversion type. Lossless conversions (like PNG to PNG) preserve quality completely. Lossy conversions (like JPG to JPG with compression) may reduce quality slightly. Audio and video conversions may also affect quality depending on the codecs used.</p>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">Can I convert multiple files at once?</div>
                <p>Yes, you can select multiple files for conversion. The tool will process them one by one and provide download links for all converted files.</p>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">What happens if I close the browser during conversion?</div>
                <p>The conversion process will be interrupted and you'll need to start over. We recommend keeping the browser open until all conversions are complete.</p>
            </div>
            
            <div class="faq-item">
                <div class="faq-question">Does the tool support batch processing?</div>
                <p>Yes, you can upload multiple files and convert them all at once. The tool will process them sequentially and provide download links for each converted file.</p>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-column">
                    <h3>About Toolgenix</h3>
                    <p>Toolgenix provides free, easy-to-use online tools to simplify your digital life. Our mission is to make everyday tasks faster and more efficient.</p>
                </div>
                <div class="footer-column">
                    <h3>Quick Links</h3>
                    <ul class="footer-links">
                        <li><a href="https://toolgenix.com">Home</a></li>
                        <li><a href="https://toolgenix.com/categories">Categories</a></li>
                        <li><a href="https://toolgenix.com/blog">Blog</a></li>
                        <li><a href="https://toolgenix.com/tools">Tools</a></li>
                        <li><a href="https://toolgenix.com/join">Join</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Connect With Us</h3>
                    <div class="social-icons">
                        <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-youtube"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-linkedin-in"></i></a>
                        <a href="#" class="social-icon"><i class="fab fa-github"></i></a>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <p>© 2025 Toolgenix — All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script>
        // Initialize FFmpeg
        const { createFFmpeg, fetchFile } = FFmpeg;
        const ffmpeg = createFFmpeg({ log: true });

        // DOM Elements
        const fileInput = document.getElementById('fileInput');
        const convertBtn = document.getElementById('convertBtn');
        const clearBtn = document.getElementById('clearBtn');
        const statusText = document.getElementById('statusText');
        const progressBar = document.getElementById('progressBar');
        const resultPanel = document.getElementById('resultPanel');
        const outputDiv = document.getElementById('output');
        const previewDiv = document.getElementById('preview');
        const convertTypeSelect = document.getElementById('convertType');
        const convertFormatSelect = document.getElementById('convertFormat');
        const fileUploadLabel = document.getElementById('fileUploadLabel');

        let uploadedFiles = [];

        // Helper Functions
        function humanBytes(bytes) {
            if (bytes === 0) return '0 B';
            const units = ['B', 'KB', 'MB', 'GB', 'TB'];
            const i = Math.floor(Math.log(bytes) / Math.log(1024));
            return (bytes / Math.pow(1024, i)).toFixed(2) + ' ' + units[i];
        }

        function setStatus(text) {
            statusText.textContent = text;
        }

        function setProgress(percent) {
            progressBar.style.width = (percent * 100) + '%';
        }

        function showMessage(text, isError = false) {
            // Create a temporary message element
            const messageEl = document.createElement('div');
            messageEl.textContent = text;
            messageEl.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 12px 20px;
                background: ${isError ? 'var(--error)' : 'var(--success)'};
                color: white;
                border-radius: 8px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                z-index: 10000;
                font-weight: 500;
                animation: fadeIn 0.3s ease;
            `;
            document.body.appendChild(messageEl);
            
            // Remove after 3 seconds
            setTimeout(() => {
                messageEl.style.animation = 'fadeOut 0.3s ease';
                setTimeout(() => {
                    if (messageEl.parentNode) {
                        messageEl.parentNode.removeChild(messageEl);
                    }
                }, 300);
            }, 3000);
        }

        // Update format options based on conversion type
        convertTypeSelect.addEventListener('change', function() {
            const type = this.value;
            const formatSelect = document.getElementById('convertFormat');
            
            // Clear existing options
            formatSelect.innerHTML = '';
            
            // Add options based on type
            if (type === 'image') {
                formatSelect.innerHTML = `
                    <option value="png">PNG</option>
                    <option value="jpg">JPG</option>
                    <option value="webp">WEBP</option>
                `;
            } else if (type === 'audio') {
                formatSelect.innerHTML = `
                    <option value="mp3">MP3</option>
                    <option value="wav">WAV</option>
                    <option value="ogg">OGG</option>
                `;
            } else if (type === 'video') {
                formatSelect.innerHTML = `
                    <option value="mp4">MP4</option>
                    <option value="webm">WEBM</option>
                    <option value="avi">AVI</option>
                `;
            } else if (type === 'text') {
                formatSelect.innerHTML = `
                    <option value="pdf">PDF</option>
                `;
            }
        });

        // UI Event Handlers
        fileInput.addEventListener('change', (ev) => {
            resultPanel.classList.remove('active');
            
            if (!ev.target.files || ev.target.files.length === 0) {
                uploadedFiles = [];
                setStatus('No files selected');
                fileUploadLabel.innerHTML = `
                    <i class="fas fa-file-upload"></i>
                    <h3>Select Files</h3>
                    <p>Click to browse or drag and drop your files here</p>
                `;
                return;
            }
            
            uploadedFiles = Array.from(ev.target.files);
            const fileNames = uploadedFiles.map(f => f.name).join(', ');
            setStatus(`Loaded: ${uploadedFiles.length} file(s)`);
            setProgress(0);
            
            // Update file upload label
            fileUploadLabel.innerHTML = `
                <i class="fas fa-check-circle" style="color: var(--success);"></i>
                <h3>${uploadedFiles.length} File(s) Selected</h3>
                <p>${fileNames}</p>
            `;
        });

        // Drag and drop support
        fileUploadLabel.addEventListener('dragover', (e) => {
            e.preventDefault();
            fileUploadLabel.style.borderColor = 'var(--primary)';
            fileUploadLabel.style.backgroundColor = 'rgba(122, 92, 250, 0.1)';
        });

        fileUploadLabel.addEventListener('dragleave', (e) => {
            e.preventDefault();
            fileUploadLabel.style.borderColor = 'var(--border)';
            fileUploadLabel.style.backgroundColor = 'rgba(122, 92, 250, 0.05)';
        });

        fileUploadLabel.addEventListener('drop', (e) => {
            e.preventDefault();
            fileUploadLabel.style.borderColor = 'var(--border)';
            fileUploadLabel.style.backgroundColor = 'rgba(122, 92, 250, 0.05)';
            
            if (e.dataTransfer.files.length) {
                fileInput.files = e.dataTransfer.files;
                const event = new Event('change', { bubbles: true });
                fileInput.dispatchEvent(event);
            }
        });

        // Main conversion function
        async function convertFiles() {
            if (!uploadedFiles.length) {
                showMessage('Please upload files first.', true);
                return;
            }
            
            convertBtn.disabled = true;
            clearBtn.disabled = true;
            setStatus('Initializing conversion...');
            setProgress(0.1);
            resultPanel.classList.remove('active');
            outputDiv.innerHTML = '';
            previewDiv.innerHTML = '';

            const type = convertTypeSelect.value;
            const format = convertFormatSelect.value;

            // Load FFmpeg if needed for audio/video conversion
            if ((type === 'audio' || type === 'video') && !ffmpeg.isLoaded()) {
                setStatus('Loading FFmpeg...');
                await ffmpeg.load();
            }

            for (let i = 0; i < uploadedFiles.length; i++) {
                const file = uploadedFiles[i];
                setStatus(`Processing ${file.name} (${i+1}/${uploadedFiles.length})`);
                setProgress((i / uploadedFiles.length) * 0.7 + 0.1);

                try {
                    if (type === 'image') {
                        await convertImage(file, format);
                    } else if (type === 'audio') {
                        await convertAudio(file, format);
                    } else if (type === 'video') {
                        await convertVideo(file, format);
                    } else if (type === 'text') {
                        await convertTextToPDF(file);
                    }
                } catch (err) {
                    console.error('Conversion error', err);
                    showMessage(`Failed to convert ${file.name}. Please try a different file.`, true);
                }
            }
            
            setProgress(1);
            setStatus('Conversion completed!');
            resultPanel.classList.add('active');
            showMessage('All files converted successfully!');
            
            convertBtn.disabled = false;
            clearBtn.disabled = false;
        }

        // Image conversion function
        async function convertImage(file, format) {
            return new Promise((resolve) => {
                const img = document.createElement('img');
                img.src = URL.createObjectURL(file);
                img.onload = () => {
                    const canvas = document.createElement('canvas');
                    const ctx = canvas.getContext('2d');
                    canvas.width = img.width;
                    canvas.height = img.height;
                    ctx.drawImage(img, 0, 0);
                    canvas.toBlob(blob => {
                        const url = URL.createObjectURL(blob);
                        const link = document.createElement('a');
                        link.href = url;
                        link.download = file.name.replace(/\.[^/.]+$/, '') + '.' + format;
                        link.innerText = `Download ${file.name} (${format})`;
                        outputDiv.appendChild(link);

                        const previewImg = document.createElement('img');
                        previewImg.src = url;
                        previewDiv.appendChild(previewImg);
                        
                        resolve();
                    }, 'image/' + format);
                };
            });
        }

        // Audio conversion function
        async function convertAudio(file, format) {
            const inputName = file.name;
            const outputName = inputName.split('.').slice(0,-1).join('.') + '.' + format;
            ffmpeg.FS('writeFile', inputName, await fetchFile(file));
            await ffmpeg.run('-i', inputName, outputName);
            const data = ffmpeg.FS('readFile', outputName);
            const blob = new Blob([data.buffer], { type: 'audio/' + format });
            const url = URL.createObjectURL(blob);

            const link = document.createElement('a');
            link.href = url;
            link.download = outputName;
            link.innerText = `Download ${file.name} (${format})`;
            outputDiv.appendChild(link);

            const audio = document.createElement('audio');
            audio.controls = true;
            audio.src = url;
            previewDiv.appendChild(audio);
        }

        // Video conversion function
        async function convertVideo(file, format) {
            const inputName = file.name;
            const outputName = inputName.split('.').slice(0,-1).join('.') + '.' + format;
            ffmpeg.FS('writeFile', inputName, await fetchFile(file));
            await ffmpeg.run('-i', inputName, outputName);
            const data = ffmpeg.FS('readFile', outputName);
            const blob = new Blob([data.buffer], { type: 'video/' + format });
            const url = URL.createObjectURL(blob);

            const link = document.createElement('a');
            link.href = url;
            link.download = outputName;
            link.innerText = `Download ${file.name} (${format})`;
            outputDiv.appendChild(link);

            const video = document.createElement('video');
            video.controls = true;
            video.src = url;
            previewDiv.appendChild(video);
        }

        // Text to PDF conversion function
        async function convertTextToPDF(file) {
            return new Promise((resolve) => {
                const reader = new FileReader();
                reader.onload = () => {
                    const doc = new jspdf.jsPDF();
                    const text = reader.result;
                    const lines = doc.splitTextToSize(text, 180);
                    doc.text(lines, 10, 10);
                    const blob = doc.output('blob');
                    const url = URL.createObjectURL(blob);
                    
                    const link = document.createElement('a');
                    link.href = url;
                    link.download = file.name.replace(/\.[^/.]+$/, '') + '.pdf';
                    link.innerText = `Download ${file.name} (PDF)`;
                    outputDiv.appendChild(link);
                    
                    resolve();
                };
                reader.readAsText(file);
            });
        }

        // Event listeners
        convertBtn.addEventListener('click', convertFiles);

        clearBtn.addEventListener('click', () => {
            fileInput.value = '';
            uploadedFiles = [];
            setStatus('Cleared');
            setProgress(0);
            resultPanel.classList.remove('active');
            outputDiv.innerHTML = '';
            previewDiv.innerHTML = '';
            
            // Reset file upload label
            fileUploadLabel.innerHTML = `
                <i class="fas fa-file-upload"></i>
                <h3>Select Files</h3>
                <p>Click to browse or drag and drop your files here</p>
            `;
            
            showMessage('All fields cleared');
        });

        // Initial state
        setStatus('No files uploaded');
        setProgress(0);

        // Add fadeOut animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fadeOut {
                from { opacity: 1; transform: translateY(0); }
                to { opacity: 0; transform: translateY(-10px); }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>
